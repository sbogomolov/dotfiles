function venv() {
    new_venv=false
    venv=".venv"
    if [ ! -d "$venv" ]; then
        new_venv=true
        python3 -m venv $venv
        if [ $? -eq 0 ]; then
            echo "Successfully created virtual environment in $venv"
        else
            echo "Could not create virtual environment in $venv" >&2
            return
        fi
    fi
    source "$venv/bin/activate"
    if [ "$new_venv" = true ]; then
        pip install --upgrade pip
    fi
}
